---
layout: post
title: "攻防世界,simple_php"
categories: web
tags: PHP
excerpt: 攻防世界做题的wp，本文章关于simple_php。
data: 2021-07-20
author: citytwilight
---

# 题目

https://adworld.xctf.org.cn/task/answer?type=web&number=3&grade=0&id=5072&page=1



# 解题过程

#### step1：分析

打开页面，进行代码审计，flag被分成了两个部分。就是当a==0且a为真的时候输出flag1，当b>1234的时候输出flag2。这里b还有一个限制,is_numeric(b)表示b为数字或者数字字符串的时候，is_numeric的值为真，此时程序退出，也就是不能让b为数字或者数字字符串。

![](D:\桌面\md\md图片\33.png)	

#### step2：解题

PHP中的弱类型比较

```
php中有两种比较符号
=== 会同时比较字符串的值和类型
== 会先将字符串换成相同类型，再作比较，属于弱类型比较
```

![](D:\桌面\md\md图片\36.png)

```
php一个数字和一个字符串进行比较或者进行运算时，PHP会把字符串转换成数字再进行比较。PHP转换的规则的是：若字符串以数字开头，则取开头数字作为转换结果，若无则输出，纯字母被转换为0。若字符串以字母开头，也输出0
```

也就是是说a=q(随便一个字母即可绕过第一个条件)得到flag1

![](D:\桌面\md\md图片\34.png)	b的限制条件是不能让b为纯字符串，且b>1234，令b=1235a

![](D:\桌面\md\md图片\35.png)

**php中的URL后缀以/?开头，a和b之间使用&连接**

#### step3：得到flag

```
Cyberpeace{647E37C7627CC3E4019EC69324F66C7C} 
```



#### URL中易出现的特殊字符

```
+ 表示空格（在URL中不能使用空格）
/ 分隔目录和子目录
？分隔实际的URL和参数
# 表示书签
& URL指定参数间的分隔符
= URL中指定参数的值
```



# 思考总结

没有接触过web类的题型，就找了点基础题进行尝试。html标签类的还能勉勉强强做出来的，但是设计到PHP语言以及需要利用工具的题还欠缺很多。



1.对PHP语言还不了解

2.在CTF比赛中，基本上没crypto的题，在刷题过程中顺便感受其他的题型



解决：先争取能够看懂PHP语言，再在后续过程中学习

